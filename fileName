;             
CREATE USER IF NOT EXISTS SA SALT '536d38c8260376d7' HASH '577fe2ce4609c9db4a87d010de0d299f56004828cf1f1404a09272a0ae88d299' ADMIN;           
CREATE SEQUENCE PUBLIC.HIBERNATE_SEQUENCE START WITH 5;       
CREATE CACHED TABLE PUBLIC.GAME(
    GAME_ID BIGINT NOT NULL,
    CREATED TIMESTAMP NOT NULL,
    GAME_STATUS VARCHAR(255),
    NEXT_PLAYER_ID BIGINT NOT NULL
);        
ALTER TABLE PUBLIC.GAME ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(GAME_ID);              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.GAME;    
CREATE CACHED TABLE PUBLIC.GAME_PLAYER(
    HAND_CARD VARCHAR(255) NOT NULL,
    ORDER_TO_PLAY INTEGER NOT NULL,
    SCORE BIGINT NOT NULL,
    ID BIGINT NOT NULL,
    GAME_ID BIGINT
);               
ALTER TABLE PUBLIC.GAME_PLAYER ADD CONSTRAINT PUBLIC.CONSTRAINT_1 PRIMARY KEY(ID);            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.GAME_PLAYER;             
CREATE CACHED TABLE PUBLIC.PLAYER(
    ID BIGINT NOT NULL
);
ALTER TABLE PUBLIC.PLAYER ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(ID); 
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.PLAYER;  
INSERT INTO PUBLIC.PLAYER(ID) VALUES
(1),
(2),
(3),
(4);  
CREATE CACHED TABLE PUBLIC.USER(
    ID BIGINT NOT NULL,
    EMAIL VARCHAR(255) NOT NULL,
    FIRST_NAME VARCHAR(255) NOT NULL,
    LAST_NAME VARCHAR(255) NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    PROFILE_PICTURE VARCHAR(255),
    USER_NAME VARCHAR(255) NOT NULL
);     
ALTER TABLE PUBLIC.USER ADD CONSTRAINT PUBLIC.CONSTRAINT_27 PRIMARY KEY(ID);  
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.USER;    
INSERT INTO PUBLIC.USER(ID, EMAIL, FIRST_NAME, LAST_NAME, PASSWORD, PROFILE_PICTURE, USER_NAME) VALUES
(1, 'test@test.com', 'firstNameTest', 'lastNameTest', '$2a$10$9WZawb8i3IO24h3SEj1tr.D8tEPTLe6WdvqRP4mUeVWMolqW.MHeS', NULL, 'test'),
(2, 'test@test.com', 'firstNameTest', 'lastNameTest', '$2a$10$PE18eEBroC/MQvy5rCP.7uxXBORhNXhcr65M0VGCl4KCHM5MaUnM2', NULL, 'test2'),
(3, 'test@test.com', 'firstNameTest', 'lastNameTest', '$2a$10$egY8OHhRbMWzDOm5j3dPaOISUEWBV5EIgzZKl16qdqGcjDckaZ0V.', NULL, 'test3'),
(4, 'test@test.com', 'firstNameTest', 'lastNameTest', '$2a$10$Pv8rqHlBXDTcAwrVKmRmHexEulr.bxGsrzQczwap7nfUUpdoDc9fS', NULL, 'test4');             
ALTER TABLE PUBLIC.USER ADD CONSTRAINT PUBLIC.UK_LQJRCOBRH9JC8WPCAR64Q1BFH UNIQUE(USER_NAME); 
ALTER TABLE PUBLIC.PLAYER ADD CONSTRAINT PUBLIC.FK24SDIR3EYDD9P2YKKYVUGPVMU FOREIGN KEY(ID) REFERENCES PUBLIC.USER(ID) NOCHECK;               
ALTER TABLE PUBLIC.GAME ADD CONSTRAINT PUBLIC.FK5NP8KSVCHAWU9KA5VNQW4M66U FOREIGN KEY(NEXT_PLAYER_ID) REFERENCES PUBLIC.GAME_PLAYER(ID) NOCHECK;              
ALTER TABLE PUBLIC.GAME_PLAYER ADD CONSTRAINT PUBLIC.FK8SO14TND5MQDJQABUGC0CYCXU FOREIGN KEY(GAME_ID) REFERENCES PUBLIC.GAME(GAME_ID) NOCHECK;
ALTER TABLE PUBLIC.GAME_PLAYER ADD CONSTRAINT PUBLIC.FKTF8NTCOPUMT7O1TKDTQS45VFL FOREIGN KEY(ID) REFERENCES PUBLIC.PLAYER(ID) NOCHECK;        
